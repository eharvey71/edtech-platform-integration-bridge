{% extends "base.html" %} {% block title %}Config{% endblock %} {% block head %}
{{ super() }} {% endblock %} {% block content %}

<div style="border-radius: 5px; padding: 20px">
  <form action="/config?f=restrictions" method="post" id="restrictions">
    <h4>Kaltura Access Restrictions</h4>
    <label style="margin-top: 8px" for="force-cats"
      >Force Category Filtering (list allowed categories, separated by commas)</label
    >
    <div class="col-sm-4">
      <input
        class="form-control"
        type="text"
        id="force-cats"
        name="force-cats"
        value={{ access_restrictions.allowed_categories|stripwhitespace }}
      />
      <br />
    </div>
    <label style="margin-top: 8px" for="force-labels"
      >Force Label Usage</label
    >
    <div class="col-sm-5">
      <input
        class="form-check-input"
        type="checkbox"
        value={{ access_restrictions.force_labels }}
        id="force-labels"
        name="force-labels"
        {% if access_restrictions.force_labels %} checked="" {% endif %}
      />
    </div><br />
  </form>
  <button form="restrictions" type="submit" value="submit" class="btn btn-info mb-1">
    Update
  </button>
</div>
<hr />
<div style="border-radius: 5px; padding: 20px">
  <form action="/config?f=sessions" method="post" id="sessions">
    <h4>App Token Session Creation Defaults</h4>
    <label for="partner-id">Partner ID</label>
    <div class="col-sm-2">
      <input
        class="form-control"
        type="text"
        id="partner-id"
        name="partner-id"
        value={{ apptoken_session_defaults.partner_id }}
      /><br />
    </div>
    <label for="session-expiry">Session Expiration (in seconds)</label>
    <div class="col-sm-2">
      <input
        class="form-control"
        type="number"
        id="session-expiry"
        name="session-expiry"
        value={{ apptoken_session_defaults.session_expiry }}
      /><br />
    </div>
    <label for="store-ks-checked">Allow for local storage of App Token KS</label>
    <div class="col-sm-2">
      <input
      class="form-check-input"
      type="checkbox"
      value={{ apptoken_session_defaults.use_local_storage }}
      id="use-local-storage"
      name="use-local-storage"
      {% if apptoken_session_defaults.use_local_storage %} checked="" {% endif %}
      />
    </div><br />
  </form>
  <button form="sessions" value="submit" type="submit" class="btn btn-info" data-action="update-token-session-config">
    Update
  </button>
</div>
<hr />
<div style="border-radius: 5px; padding: 20px">
  <form action="/config?f=ui" method="post" id="ui">
    <h4>UI Customization</h4>
    <label for="integrator-title">Integrator Title</label>
    <div class="col-sm-2">
      <input
        class="form-control"
        type="text"
        id="integrator-title"
        name="integrator-title"
        value="{{ ui_customizations.integrator_title}}"
      /><br />
    </div>
  </form>
  <button form="ui" value="submit" type="submit" class="btn btn-info" data-action="update-integrator-config">
    Update
  </button>
</div>

{% endblock %}
